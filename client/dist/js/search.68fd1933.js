(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"27da":function(t,e,a){},"2d3b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search pb-5"},[a("div",{staticClass:"title"},[a("h1",{style:{color:t.nm?"#ddd":"#333"}},[t._v("Search")]),a("div",{staticClass:"search-box"},[a("b-field",[a("b-autocomplete",{attrs:{placeholder:"Search photos across Pexels, Unsplash, Flickr and more...",data:t.getTags,"icon-pack":"fas",icon:"search",clearable:""},on:{select:function(e){return t.search(e)}},nativeOn:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}},[a("template",{slot:"empty"},[t._v("No results found")])],2)],1)],1)]),a("div",{staticClass:"search_results"},[a("b-tabs",{attrs:{type:"is-toggle is-warning",expanded:""},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[a("b-tab-item",{attrs:{label:"Pexies","icon-pack":"fas",icon:"picture"}},[a("template",{slot:"header"},[a("span",[a("img",{staticStyle:{width:"16px","margin-right":"0.5em"},attrs:{width:"16",src:"/favicon.png",alt:"pexies"}})]),a("span",[t._v("Pexies")])]),a("SearchResults",{attrs:{pageStart:t.paginationOptions[0].current*t.paginationOptions[0].perPage,pageEnd:t.paginationOptions[0].current*t.paginationOptions[0]+t.paginationOptions[0].perPage,platform:"pexies"}})],2),a("b-tab-item",{attrs:{label:"Flickr","icon-pack":"fab",icon:"flickr"}},[a("SearchResults",{attrs:{pageStart:t.paginationOptions[1].current*t.paginationOptions[1].perPage,pageEnd:t.paginationOptions[1].current*t.paginationOptions[1]+t.paginationOptions[1].perPage,platform:"flickr"}})],1),a("b-tab-item",{attrs:{label:"Pexels","icon-pack":"fab",icon:"pexels"}},[a("SearchResults",{attrs:{pageStart:t.paginationOptions[2].current*t.paginationOptions[2].perPage,pageEnd:t.paginationOptions[2].current*t.paginationOptions[2].perPage+t.paginationOptions[2].perPage,platform:"pexels"}})],1),a("b-tab-item",{attrs:{label:"Unsplash","icon-pack":"fab",icon:"unsplash"}},[a("SearchResults",{attrs:{pageStart:t.paginationOptions[3].current*t.paginationOptions[3].perPage,pageEnd:t.paginationOptions[3].current*t.paginationOptions[3].perPage+t.paginationOptions[3].perPage,platform:"unsplash"}})],1)],1)],1),t.$store.getters.getSearchResults?a("div",{staticClass:"bottom-bar",class:t.nm?"bg-dark":"",style:{color:t.nm?"#ddd!important":"#333!important"}},[a("transition-group",{attrs:{tag:"div",name:"fade",mode:"out-in"}},t._l(t.paginationOptions,(function(e,s){return a("div",{key:s},[t.currentTab==s?a("b-pagination",{class:t.nm?"bg-dark":"",style:{color:t.nm?"#ddd!important":"#333!important"},attrs:{simple:"",type:"is-warning",total:t.getTotal(e.name),"range-before":e.rangeBefore,"range-after":e.rangeAfter,"per-page":t.perPage},model:{value:e.current,callback:function(a){t.$set(e,"current",a)},expression:"pagination.current"}}):t._e()],1)})),0)],1):t._e()])},r=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"photos",attrs:{id:"intersection"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center","justify-content":"center",height:"100%",width:"100%"}},t._l(t.photos,(function(e,s){return a("div",{key:s+""+Math.random(),staticClass:"photo",class:[t.lightMode?"dark_shadows":"light",t.isPhotoLikeable(e)?"":"disable_grayscale"],staticStyle:{width:"200px",height:"200px"},style:{backgroundImage:"url("+e.src.medium+")"}},[a("div",[a("Photo",{attrs:{photo:e}})],1)])})),0),t.photos&&0==t.photos.length||!t.photos?a("b-message",{key:"message",staticClass:"my-2",staticStyle:{"animation-duration":"100ms"},attrs:{type:"is-danger"}},[t._v("There is nothing here... ")]):t._e()],1)},i=[],o=a("7856"),l={props:["name","pageStart","pageEnd","platform"],components:{Photo:o["a"]},data(){return{loaded:!1}},computed:{likedImgs(){const t=localStorage.getItem("likedPhotos"),e=this.$store.getters.getCurrentUsersFavourites;return e?e&&t?[...JSON.parse(t),...e]:[]:JSON.parse(t)},lightMode(){return this.$store.getters["getNightMode"]},photos(){if(this.$props.platform)switch(this.$props.platform){case"pexies":return this.$store.getters.getSearchResults.pexies;case"pexels":return this.$store.getters.getSearchResults.pexels;case"unsplash":return this.$store.getters.getSearchResults.unsplash;case"flickr":return this.$store.getters.getSearchResults.flickr;default:return[]}return[]}},methods:{isPhotoLikeable(t){const e=this.likedImgs.find(e=>e.url==t.url);return!e}},mounted(){setTimeout(()=>{this.loaded=!0},5e3)}},c=l,p=(a("47a9"),a("2877")),g=Object(p["a"])(c,n,i,!1,null,"cae7339e",null),h=g.exports,u={name:"Search",data(){return{perPage:25,selectedTag:"",currentTab:0,searchWord:"",paginationOptions:[{name:"pexies",total:0,current:1,rangeBefore:5,rangeAfter:5},{name:"flickr",total:0,current:1,rangeBefore:5,rangeAfter:5},{name:"pexels",total:0,current:1,rangeBefore:5,rangeAfter:5},{name:"unsplash",total:0,current:1,rangeBefore:5,rangeAfter:5}]}},components:{SearchResults:h},computed:{getTags(){const t=this.$store.getters.getTags.map(t=>t.title);return t.unshift(this.searchWord),t.filter(t=>t.toLowerCase().includes(this.searchWord.toLowerCase()))},nm(){return this.$store.getters.getNightMode}},methods:{getTotal(t){switch(t){case"pexies":return this.$store.state.flickrSearchResultTotal;case"pexels":return this.$store.state.pexelsSearchResultTotal;case"flickr":return this.$store.state.flickrSearchResultTotal;case"unsplash":return this.$store.state.unsplashSearchResultTotal;default:return this.$store.getters.getSearchResults.pexies.length}},search(t=null){const e=t||this.searchWord;console.log("searching..."),e.length>0&&(this.$store.dispatch("searchOnAllPlatforms",{word:e,page:1,perPage:40,$buefy:this.$buefy}),this.selectedTag="",this.searchWord="")}},created(){this.$store.commit("hideLoader"),this.getTags&&1==this.getTags.length&&this.$store.dispatch("fetchTags")}},d=u,f=(a("c615"),Object(p["a"])(d,s,r,!1,null,null,null));e["default"]=f.exports},"47a9":function(t,e,a){"use strict";var s=a("27da"),r=a.n(s);r.a},c615:function(t,e,a){"use strict";var s=a("ffaf"),r=a.n(s);r.a},ffaf:function(t,e,a){}}]);
//# sourceMappingURL=search.68fd1933.js.map