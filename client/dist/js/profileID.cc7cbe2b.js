(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profileID"],{"04f9":function(t,e,s){"use strict";var a=s("cb5d"),i=s.n(a);i.a},2352:function(t,e,s){"use strict";var a=s("ec72"),i=s.n(a);i.a},"32fe":function(t,e,s){},"45e7":function(t,e,s){"use strict";var a=s("32fe"),i=s.n(a);i.a},"587c":function(t,e,s){"use strict";var a=s("a9dd"),i=s.n(a);i.a},"59c4":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",{on:{click:function(e){return t.generator("facebook")}}},[s("b-icon",{attrs:{icon:"facebook",pack:"fab"}})],1),s("li",{on:{click:function(e){return t.generator("twitter")}}},[s("b-icon",{attrs:{icon:"twitter",pack:"fab"}})],1),s("li",{attrs:{click:"generator('tumblr')"}},[s("b-icon",{attrs:{icon:"tumblr",pack:"fab"}})],1)])},i=[],r={name:"Sharer",props:["user"],methods:{generator(t){const e=`https://twitter.com/intent/tweet?url=pexies.com/${this.user.username}&text=Check%20out%20my%20pexies%20stash!!`,s="https://www.facebook.com/sharer/sharer.php?u=pexies.com/"+this.user.username,a=`http://www.tumblr.com/share?v=3&u=pexies.com/${this.user.username}&t=Hello!`;switch(t){case"twitter":window.open(e,"_blank");break;case"facebook":window.open(s,"_blank");break;case"tumblr":window.open(a,"_blank");break}}}},o=r,n=(s("04f9"),s("2877")),c=Object(n["a"])(o,a,i,!1,null,"85cbd46e",null);e["a"]=c.exports},"5fed":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.transition,expression:"!$store.state.transition"}],staticClass:"photos",attrs:{id:"intersection"}},[s("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center","justify-content":"center",height:"100%",width:"100%"}},t._l(t.photos,(function(e,a){return s("div",{key:a+""+Math.random(),staticClass:"photo",class:[t.lightMode?"dark_shadows":"light",a<t.perPage?"":"intersect",t.isPhotoLikeable(e)?"":"disable_grayscale"],staticStyle:{width:"200px",height:"200px",transition:"300ms!important"},style:{opacity:a<t.perPage?1:0}},[s("lazy-component",{staticStyle:{height:"100%",width:"100%","z-index":"1"}},[s("img",{staticStyle:{width:"100%",height:"100%","object-fit":"cover"},attrs:{src:e.src.medium?e.src.medium:e.src.small}})]),s("div",{staticStyle:{"z-index":"2",background:"transparent"}},[s("Photo",{attrs:{photo:e},on:{like:function(e){return t.callbackFunc()}}})],1)],1)})),0),t.photos&&0==t.photos.length||!t.photos?s("b-message",{key:"message",staticClass:"my-2",staticStyle:{"animation-duration":"100ms"},attrs:{type:"is-danger"}},[t._v("There is nothing here... ")]):t._e()],1)},i=[],r=s("7856"),o={props:["name","userPhotos","pageStart","pageEnd"],data(){return{offsetTop:0,currentPage:1,total:null,loaded:!1}},watch:{photos(){this.callbackFunc()},offsetTop(t){this.callbackFunc()}},components:{Photo:r["a"]},computed:{likedImgs(){const t=localStorage.getItem("likedPhotos"),e=this.$store.getters.getCurrentUsersFavourites;return e?e&&t?[...JSON.parse(t),...e]:[]:JSON.parse(t)},perPage(){return window.innerWidth>=1920?24:window.innerWidth>=1440?16:window.innerWidth>=1280||window.innerWidth>=768?12:8},lightMode(){return this.$store.getters["getNightMode"]},photos(){if("curated"==this.$props.name)return console.log(this.pageStart,this.pageEnd),this.$store.getters.getCuratedPhotos.slice(this.pageStart,this.pageEnd);if("random"==this.$props.name)return this.$store.getters.getRandomPhotos;if("user"==this.$props.name){const t=this.$store.getters.getCurrentUsersFavourites.slice(this.pageStart,this.pageEnd);return t||[]}if("guest"==this.$props.name){const t=this.$store.getters.getFavourites.slice(this.pageStart,this.pageEnd);return t||[]}if("search"==this.$props.name)return this.$store.getters.getSearchResults;if("profile"==this.$props.name){const t=this.$store.getters.getCurrentUsersFavourites.slice(this.pageStart,this.pageEnd);return t}if("profileID"==this.$props.name){const t=this.$props.userPhotos.slice(this.pageStart,this.pageEnd);return t}return"dashboard"==this.$props.name?this.$store.getters.getDashboard.slice(this.pageStart,this.pageEnd):[]}},methods:{isPhotoLikeable(t){const e=this.likedImgs.find(e=>e.url==t.url);return!e},onScroll(t){console.log("scrolling");const e=document.getElementById("intersection");this.offsetTop=e.scrollTop},isElementInViewport(t){const e=document.getElementById("intersection"),s=t.getBoundingClientRect();return s.top>=-100&&s.bottom<=(e.innerHeight||e.clientHeight)+400},callbackFunc(){const t=document.querySelectorAll(".intersect");for(let e=0;e<t.length;e++)this.isElementInViewport(t[e])?(t[e].classList.add("in-view"),t[e].classList.add("animation_enter"),t[e].classList.remove("animation_enter")):(t[e].classList.remove("in-view"),t[e].classList.remove("animation_enter"))}},async mounted(){const t=this,e=document.getElementById("intersection");switch(e.addEventListener("scroll",this.onScroll),this.$store.commit("showLoader"),this.$props.name){case"curated":this.$store.dispatch("getCuratedPexels",this.$buefy);break;case"random":setTimeout(()=>{t&&t.$store.dispatch("getRandomPexels",this.$buefy)},300);break;case"user":break;case"guest":this.$store.dispatch("loadFavourites",this.$buefy);break}this.callbackFunc(),setTimeout(()=>{t&&(t.loaded=!0)},2e3)},destroyed(){const t=document.getElementById("intersection");t.removeEventListener("scroll",this.onScroll)}},n=o,c=(s("45e7"),s("2877")),l=Object(c["a"])(n,a,i,!1,null,null,null);e["a"]=l.exports},6407:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getTotal>0&&t.pagination&&t.perPage?s("transition",{attrs:{tag:"div",name:"fade",mode:"out-in"}},[s("b-pagination",{style:{color:t.nm?"#333!important":"#222!important"},attrs:{type:"is-warning",order:"is-centered","icon-pack":"fa",total:t.getTotal,"range-before":t.pagination.rangeBefore,"range-after":t.pagination.rangeAfter,"per-page":t.perPage},on:{change:function(e){return t.pageChange(e)}},model:{value:t.curr,callback:function(e){t.curr=e},expression:"curr"}})],1):t._e()},i=[],r={name:"pagination",props:["perPage","pagination","user"],data(){return{curr:1}},methods:{pageChange(t){this.$emit("pageChange",t)}},computed:{getTotal(){return console.log(this.pagination.name),this.pagination?"pexiesRandom"==this.pagination.name?this.$store.getters.getRandomPhotos.length:"curated"==this.pagination.name?this.$store.getters.getCuratedPhotos.length:"userFav"==this.pagination.name?this.$store.getters.getCurrentUsersFavourites.length:"localFav"==this.pagination.name?this.$store.getters.getFavourites.length:"profileID"==this.pagination.name&&this.user&&this.user.favourites?this.user.favourites.length:0:0},nm(){return this.$store.getters.getNightMode}}},o=r,n=(s("79fd"),s("2877")),c=Object(n["a"])(o,a,i,!1,null,null,null);e["a"]=c.exports},7856:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.propCopy?s("div",{staticClass:"photo_link_wrapper"},[s("b-tag",{staticClass:"photographer",attrs:{type:"is-primary"}},[t.propCopy.photographer_url?s("a",{staticStyle:{color:"white"},attrs:{target:"_blank",href:t.propCopy.photographer_url}},[t._v(" "+t._s(t.propCopy.photographer&&t.propCopy.photographer.length>15?t.propCopy.photographer.substring(0,15)+"...":t.propCopy.photographer+"unknown")+" ")]):t._e()]),s("transition-group",{staticClass:"like_button",attrs:{tag:"div",name:"fade",mode:"out-in"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.isPhotoLikeable(t.propCopy)&&"/favourites"!==t.path,expression:"isPhotoLikeable(propCopy) && path !== '/favourites'"}],key:"like",on:{click:function(e){return t.like(t.propCopy)}}},[s("i",{staticClass:"fa fa-heart btn_icon"})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.isPhotoLikeable(t.propCopy),expression:"!isPhotoLikeable(propCopy)"}],key:"dislike",on:{click:function(e){return t.dislike(t.propCopy)}}},[s("i",{staticClass:"fa fa-times btn_icon"})])]),s("span",{staticClass:"expand_button",on:{click:t.expand}},[s("i",{staticClass:"fa fa-expand btn_icon"})]),s("span",{staticClass:"visit_button",on:{click:t.visit}},[s("i",{staticClass:"fa fa-search btn_icon"})])],1):t._e()},i=[],r=s("9ab4"),o=s("2b0e"),n=o["a"].extend({props:["photo"],data:function(){return{propCopy:{}}},created:function(){this.propCopy=JSON.parse(JSON.stringify(this.photo)),this.$emit("like")},mounted:function(){this.$emit("like")},methods:{expand:function(t){this.$store.commit("showLoader");var e=document.createElement("img");e.src=this.propCopy.src.original,e.onload=function(t){if(t.path&&t.path[0]){var e=t.path[0].naturalWidth/t.path[0].naturalHeight;a(e)}};var s=this;function a(t){var e;e=t<.5?"4by3":"16by9";var a=s.$createElement,i=a("p",{class:"image modal_image is-"+e},[a("img",{attrs:{src:s.propCopy.src.original}})]);s.$store.dispatch("expandPhoto",{$el:i,$buefy:s.$buefy})}},visit:function(){window.open(this.propCopy.url,"_blank")},like:function(t){this.isPhotoLikeable(t)?(this.propCopy.liked=!0,this.$store.dispatch("likePhoto",{photo:t,username:this.$store.state.auth.user.username,$buefy:this.$buefy}),this.$emit("like")):this.$buefy.toast.open({message:"You already liked this photo.",type:"is-danger"})},dislike:function(t){var e=this.$store.getters.getCurrentUser.username;this.$store.dispatch("dislikePhoto",{photo:t,username:e,$buefy:this.$buefy}),this.$emit("like")},isPhotoLikeable:function(t){var e=this.likedImgs.find((function(e){return e.url==t.url}));return!e}},computed:{path:function(){return this.$route.path},likedImgs:function(){var t=localStorage.getItem("likedPhotos"),e=this.$store.getters.getCurrentUsersFavourites;return!e&&t?JSON.parse(t):t&&e?Object(r["c"])(JSON.parse(t),e):[]}}}),c=n,l=(s("2352"),s("2877")),p=Object(l["a"])(c,a,i,!1,null,null,null);e["a"]=p.exports},"79fd":function(t,e,s){"use strict";var a=s("bb47"),i=s.n(a);i.a},8946:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user&&t.user.username?s("div",{staticClass:"profile_page box",class:t.darkMode?"bg-dark":""},[s("div",{staticClass:"profile_header",staticStyle:{position:"relative"},style:t.user.preferences.profile_cover?"background-image: url("+t.user.preferences.profile_cover+")":""},[s("div",{staticClass:"sharer"},[s("Sharer",{attrs:{user:t.user}})],1),s("div",{staticClass:"profile_picture"},[t.$store.state.PPloading?s("div",{staticClass:"pp_loader"},[s("QSpinnerInfinity",{staticStyle:{color:"hotpink"}})],1):t._e(),s("img",{staticClass:"profile_picture_img",attrs:{alt:t.user.username,src:t.user.preferences.profile_picture}})]),s("div",{staticClass:"profile_props"},[s("p",{staticClass:"my-2 text-bold profile_name",staticStyle:{"font-size":"16px",display:"inline-block",cursor:"default"}},[t._v(" "+t._s(t.user.username))]),t.user.description&&t.user.description.length>0?s("p",{staticClass:"my-2 text-bold profile_description",staticStyle:{"font-size":"16px",display:"inline-block",cursor:"default"}},[t._v(" "+t._s(t.user.description)+" ")]):t._e(),s("ul",{staticClass:"profile_stats"},[s("li",{staticClass:"stat_box"},[s("div",{staticClass:"stat text-bold"},[s("i",{staticClass:"fas fa-heart",staticStyle:{color:"deeppink"}}),s("span",{staticClass:"mt-1"},[t._v(t._s(t.user.favourites.length))])]),s("br")]),s("li",{staticClass:"stat_box"},[s("div",{staticClass:"stat text-bold",attrs:{type:"is-primary"}},[s("i",{staticClass:"fas fa-users",staticStyle:{color:"deeppink"}}),s("span",{staticClass:"mt-1"},[t._v(t._s(t.user.followers.length))])])])])])]),s("div",{staticClass:"profile_content"},[s("b-tabs",{attrs:{type:"is-toggle is-warning",expanded:""}},[s("b-tab-item",{attrs:{label:"Favourites","icon-pack":"fa",icon:"heart"}},[s("Photos",{attrs:{name:"profileID",userPhotos:t.user.favourites}})],1),s("b-tab-item",{attrs:{label:"Followers","icon-pack":"fa",icon:"users"}},[s("p",{staticStyle:{"text-align":"center",width:"50%",margin:"0 auto"}},[t._v("This feature is not available right now. Come back soon:)")])]),s("b-tab-item",{attrs:{label:"Following","icon-pack":"fa",icon:"user"}},[s("p",{staticStyle:{"text-align":"center",width:"50%",margin:"0 auto"}},[t._v("This feature is not available right now. Come back soon:)")])])],1)],1),s("div",{staticClass:"bottom-bar",class:t.darkMode?"bg-dark":"",staticStyle:{"z-index":"99999"},style:{color:t.darkMode?"#ddd!important":"#333!important"}},[s("pagination",{class:t.darkMode?"bg-dark":"",style:{color:t.darkMode?"#ddd!important":"#333!important"},attrs:{user:t.user,type:"is-warning",order:"is-centered","icon-pack":"fa",pagination:t.pagination,"per-page":t.perPage},on:{pageChange:function(e){return t.pageChange(e)}}})],1)]):t._e()},i=[],r=s("5fed"),o=s("bc3a"),n=s.n(o),c=s("6407"),l=s("59c4"),p={name:"Profile",components:{Photos:r["a"],pagination:c["a"],Sharer:l["a"]},data(){return{user:null,perPage:20,pagination:{name:"profileID",current:1,rangeBefore:2,rangeAfter:2,prevIcon:"chevron-left",nextIcon:"chevron-right"}}},computed:{notBusy(){return this.$store.state.PPloading},darkMode(){return this.$store.getters["getNightMode"]}},async created(){const t=this,e=this.$route.params.username;if(e){const{data:s}=await n.a.get("/api/user/getbyusername/"+e);this.user=s,s.username||this.$router.push("/"),setTimeout(()=>{t&&t.$store.commit("hideLoader")},500)}},methods:{pageChange(t){this.pagination.current=t}}},u=p,h=(s("587c"),s("2877")),d=Object(h["a"])(u,a,i,!1,null,null,null);e["default"]=d.exports},a9dd:function(t,e,s){},bb47:function(t,e,s){},cb5d:function(t,e,s){},ec72:function(t,e,s){}}]);
//# sourceMappingURL=profileID.cc7cbe2b.js.map