{"version":3,"sources":["webpack:///./src/components/Photo.vue?e3b2","webpack:///./src/views/Dashboard.vue?7e49","webpack:///./src/components/Photos.vue?0227","webpack:///./src/components/Photos.vue?c6ac","webpack:///src/components/Photos.vue","webpack:///./src/components/Photos.vue?fc18","webpack:///./src/components/Photos.vue?c5d7","webpack:///./src/components/DashboardTags.vue?8ed3","webpack:///./src/views/Dashboard.vue?e4a7","webpack:///./src/components/DashboardTags.vue?d6dc","webpack:///src/components/DashboardTags.vue","webpack:///./src/components/DashboardTags.vue?6d16","webpack:///./src/components/DashboardTags.vue?42a2","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?3414","webpack:///./src/views/Dashboard.vue?ace8","webpack:///./src/components/Photo.vue?722a","webpack:///./src/components/Photo.vue","webpack:///./src/components/Photo.vue?4b15","webpack:///./src/components/Photo.vue?04ee"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","$store","state","transition","expression","staticClass","attrs","staticStyle","_l","photo","i","key","Math","random","class","lightMode","perPage","isPhotoLikeable","style","opacity","src","medium","small","on","$event","callbackFunc","photos","length","_v","_e","staticRenderFns","props","offsetTop","currentPage","total","loaded","watch","cur","components","Photo","computed","localStorage","getItem","a","getters","getCurrentUsersFavourites","JSON","parse","window","innerWidth","$props","console","log","pageStart","pageEnd","getCuratedPhotos","slice","getRandomPhotos","userFavs","guestFavs","getFavourites","getSearchResults","usersFav","reverse","userPhotos","getDashboard","methods","p","exists","likedImgs","find","val","url","e","item","document","getElementById","scrollTop","el","rect","getBoundingClientRect","top","bottom","innerHeight","clientHeight","items","querySelectorAll","isElementInViewport","classList","add","remove","self","addEventListener","onScroll","commit","dispatch","$buefy","setTimeout","removeEventListener","component","nm","extend","showNavbar","pagination","current","width","tagChange","pageChange","tag","title","activeTag","nativeOn","preventDefault","onClick","_s","showAllTags","interests","darkMode","localTags","clicks","delay","timer","tags","sort","b","ls","changeTag","clearTimeout","isTagAddable","addTagToInterests","removeTagFromInterests","indexOf","push","Set","stringify","setItem","index","splice","filter","$emit","dashboardContentLength","Photos","DashboardTags","lastScrollPosition","rangeBefore","rangeAfter","prevIcon","nextIcon","getNightMode","currentScrollPosition","abs","getAuth","propCopy","photographer_url","photographer","substring","path","like","dislike","expand","visit","data","created","mounted","event","img","createElement","original","onload","aspect$","naturalWidth","naturalHeight","send","aspectRatio","className","h","vnode","$el","open","liked","username","auth","user","toast","message","type","getCurrentUser","$route"],"mappings":"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","file":"js/dashboard.9ea7de5b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photo.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photo.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photos.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photos.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.$store.state.transition),expression:\"!$store.state.transition\"}],staticClass:\"photos\",attrs:{\"id\":\"intersection\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"align-items\":\"center\",\"justify-content\":\"center\",\"height\":\"100%\",\"width\":\"100%\"}},_vm._l((_vm.photos),function(photo,i){return _c('div',{key:i+''+Math.random(),staticClass:\"photo\",class:[!_vm.lightMode ? 'light' : 'dark_shadows', i<_vm.perPage ? '' : 'intersect', !_vm.isPhotoLikeable(photo) ? 'disable_grayscale' : ''],staticStyle:{\"width\":\"200px\",\"height\":\"200px\",\"transition\":\"300ms!important\"},style:({ opacity: i<_vm.perPage ? 1 : 0})},[_c('lazy-component',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"z-index\":\"1\"}},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"object-fit\":\"cover\"},attrs:{\"src\":photo.src.medium ? photo.src.medium : photo.src.small}})]),_c('div',{staticStyle:{\"z-index\":\"2\",\"background\":\"transparent\"}},[_c('Photo',{attrs:{\"photo\":photo},on:{\"like\":function($event){return _vm.callbackFunc()}}})],1)],1)}),0),(_vm.photos && _vm.photos.length == 0 || !_vm.photos)?_c('b-message',{key:\"message\",staticClass:\"my-2\",staticStyle:{\"animation-duration\":\"100ms\"},attrs:{\"type\":\"is-danger\"}},[_vm._v(\"There is nothing here... \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-show=\"!$store.state.transition\" id=\"intersection\" class=\"photos\">\n    <div style=\"display:flex;\n         flex-wrap:wrap; align-items:center;\n         justify-content:center;\n         height: 100%; width: 100%\">\n      <div\n          class=\"photo\"\n          style=\"width: 200px; height: 200px; transition: 300ms!important\"\n          :style=\"{ opacity: i<perPage ? 1 : 0}\"\n          :class=\"[!lightMode ? 'light' : 'dark_shadows', i<perPage ? '' : 'intersect', !isPhotoLikeable(photo) ? 'disable_grayscale' : '']\"\n          v-for=\"(photo, i) in photos\" :key=\"i+''+Math.random()\"\n      >\n        <lazy-component style=\"height: 100%; width: 100%; z-index: 1;\">\n            <img style=\"width: 100%; height: 100%;object-fit: cover;\"\n                 :src=\"photo.src.medium ? photo.src.medium : photo.src.small\">\n        </lazy-component>\n        <div style=\"z-index: 2; background: transparent\">\n          <Photo @like=\"callbackFunc()\" :photo=\"photo\"></Photo>\n        </div>\n      </div>\n    </div>\n    <b-message style=\"animation-duration: 100ms\" key=\"message\" class=\"my-2\"\n               v-if=\"photos && photos.length == 0 || !photos\"\n               type=\"is-danger\">There is nothing here...\n    </b-message>\n  </div>\n</template>\n\n<script>\nimport Photo from \"@/components/Photo.vue\";\n\nexport default {\n  props: [\"name\", \"userPhotos\", \"pageStart\", \"pageEnd\"],\n  data() {\n    return {\n      offsetTop: 0,\n      currentPage: 1,\n      total: null,\n      loaded: false,\n    }\n  },\n  watch: {\n    photos() {\n      this.callbackFunc()\n    },\n    offsetTop(cur) {\n      this.callbackFunc()\n    }\n  },\n  components: {Photo},\n  computed: {\n    likedImgs() {\n      const i = localStorage.getItem('likedPhotos')\n      const a = this.$store.getters.getCurrentUsersFavourites\n      if (!a) return JSON.parse(i)\n      if (a && i) return [...JSON.parse(i), ...a]\n      return []\n    },\n    perPage() {\n      if (window.innerWidth >= 1920) return 24\n      if (window.innerWidth >= 1440) return 16\n      if (window.innerWidth >= 1280) return 12\n      if (window.innerWidth >= 768) return 12\n      return 8\n    },\n    lightMode() {\n      return this.$store.getters['getNightMode']\n    },\n    photos() {\n      if (this.$props.name == 'curated') {\n        console.log(this.pageStart, this.pageEnd)\n        return this.$store.getters.getCuratedPhotos.slice(this.pageStart, this.pageEnd)\n      }\n      if (this.$props.name == 'random') {\n        return this.$store.getters.getRandomPhotos\n      }\n      if (this.$props.name == 'user') {\n        const userFavs = this.$store.getters.getCurrentUsersFavourites.slice(this.pageStart, this.pageEnd)\n        if (userFavs) {\n          return userFavs\n        }\n        return []\n      }\n      if (this.$props.name == 'guest') {\n        const guestFavs = this.$store.getters.getFavourites.slice(this.pageStart, this.pageEnd)\n        if (guestFavs) {\n          return guestFavs\n        }\n        return []\n      }\n      if (this.$props.name == 'search') {\n        return this.$store.getters.getSearchResults\n      }\n      if (this.$props.name == 'profile') {\n        const usersFav = this.$store.getters.getCurrentUsersFavourites\n        return usersFav.reverse()\n      }\n      if (this.$props.name == 'profileID') {\n        const usersFav = this.$props.userPhotos\n        return usersFav.reverse()\n      }\n      if(this.$props.name == 'dashboard'){\n        return this.$store.getters.getDashboard.slice(this.pageStart,this.pageEnd)\n      }\n\n      return []\n    }\n  },\n  methods: {\n    isPhotoLikeable(p) {\n      const exists = this.likedImgs.find((val) => {\n        return val.url == p.url\n      })\n      if (exists) {\n        return false\n      }\n      return true\n    },\n    onScroll(e) {\n      console.log('scrolling')\n      const item = document.getElementById('intersection')\n      this.offsetTop = item.scrollTop\n    },\n    isElementInViewport(el) {\n      const item = document.getElementById('intersection')\n      const rect = el.getBoundingClientRect();\n      return (\n          rect.top >= -100 &&\n          rect.bottom <= (item.innerHeight || item.clientHeight) + 400\n      );\n    },\n    callbackFunc() {\n      const items = document.querySelectorAll(\".intersect\");\n      for (let i = 0; i < items.length; i++) {\n        if (this.isElementInViewport(items[i])) {\n          items[i].classList.add(\"in-view\");\n          items[i].classList.add(\"animation_enter\");\n          items[i].classList.remove(\"animation_enter\");\n        } else {\n          items[i].classList.remove(\"in-view\");\n          items[i].classList.remove(\"animation_enter\");\n        }\n      }\n    },\n  },\n  async mounted() {\n    const self = this;\n    const item = document.getElementById('intersection')\n    item.addEventListener('scroll', this.onScroll);\n    this.$store.commit('showLoader')\n    switch (this.$props.name) {\n      case \"curated\":\n        this.$store.dispatch('getCuratedPexels', this.$buefy)\n        break;\n      case \"random\":\n        setTimeout(() => {\n          if (self) {\n            self.$store.dispatch('getRandomPexels', this.$buefy)\n          }\n        }, 300)\n        break;\n      case \"user\":\n        break;\n      case \"guest\":\n        this.$store.dispatch('loadFavourites', this.$buefy)\n        break;\n    }\n    this.callbackFunc()\n    setTimeout(() => {\n      if (self) {\n        self.loaded = true\n      }\n    }, 2000)\n  },\n  destroyed() {\n    const item = document.getElementById('intersection')\n    item.removeEventListener('scroll', this.onScroll);\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"stylus\">\n.photos\n  display flex\n  align-items center\n  justify-content center\n  flex-wrap wrap\n  padding-bottom 50px\n  overflow-y scroll\n  max-height 75vh\n  will-change: scroll-position\n\n  .media-content\n    color #333 !important\n\n\n.in-view {\n  transition 300ms ease-in-out!important\n  opacity: 1 !important;\n}\n\n.animation_enter\n  animation: scale .5s ease forwards !important;\n\n.not-in-view {\n  opacity: 0 !important;\n}\n\n.scale-enter-active, .scale-leave-active {\n  transition: opacity 0.3s, cubic-bezier(0.215, 0.61, 0.355, 1)\n}\n\n.scale-enter, .scale-leave, .scale-leave-to {\n  opacity: 0;\n  transform: scale3d(0, 0, 1)\n}\n.photo{\n  overflow hidden\n}\n@keyframes scale {\n  0% {\n    transition: all 200ms, opacity 0.2s, transform 0.2s cubic-bezier(0.215, 0.61, 0.355, 1)\n    opacity: 0;\n    transform: scale3d(0, 0, 1)\n  }\n  100% {\n    transform none\n    opacity 1\n  }\n}\n\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Photos.vue?vue&type=template&id=376e4450&\"\nimport script from \"./Photos.vue?vue&type=script&lang=js&\"\nexport * from \"./Photos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Photos.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardTags.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardTags.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"title\"},[_c('h1',{style:({'color' : !_vm.nm ? '#333' : '#ddd'})},[_vm._v(\"Dashboard\")]),_c('p',{staticStyle:{\"font-size\":\"12px\",\"opacity\":\"0.75\",\"margin-top\":\"5px\"}},[_vm._v(\"Explore new content by your interests on Pexies.\")])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('transition-group',{staticClass:\"columns\",attrs:{\"tag\":\"div\",\"name\":\"fadeUp\",\"mode\":\"out-in\"}},[_c('div',{key:\"content\",staticClass:\"column is-9\",class:{extend : !_vm.showNavbar}},[_c('Photos',{attrs:{\"pageStart\":_vm.pagination.current*_vm.perPage-_vm.perPage,\"pageEnd\":_vm.pagination.current*_vm.perPage,\"name\":\"dashboard\"}})],1),_c('div',{key:\"tags\",staticClass:\"column is-3\",staticStyle:{\"transition\":\"300ms all\"},style:([!_vm.showNavbar && _vm.width<500 ? 'height: 1px!important; min-height: 1px!important' : '',\n             _vm.width<500 && _vm.showNavbar ? 'min-height: 30vh!important; height:30vh;': ''])},[(_vm.showNavbar)?_c('p',{staticClass:\"my-2\",staticStyle:{\"font-size\":\"12px\",\"opacity\":\"0.75\",\"margin-top\":\"5px\"}},[_vm._v(\"Add a tag to favourites by double clicking on it.\")]):_vm._e(),(_vm.showNavbar)?_c('DashboardTags',{on:{\"tagChange\":function($event){return _vm.tagChange($event)}}}):_vm._e()],1)])],1)]),_c('div',{staticClass:\"bottom-bar\",class:_vm.nm ? 'bg-dark' : '',style:({'color' : !_vm.nm ? '#333!important' : '#ddd!important'})},[_c('pagination',{class:_vm.nm ? 'bg-dark' : '',style:({'color' : !_vm.nm ? '#333!important' : '#ddd!important'}),attrs:{\"type\":\"is-warning\",\"order\":\"is-centered\",\"icon-pack\":\"fa\",\"pagination\":_vm.pagination,\"per-page\":_vm.perPage},on:{\"pageChange\":function($event){return _vm.pageChange($event)}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h6',[_vm._v(\"Popular Tags\")]),_c('transition-group',{attrs:{\"tag\":\"b-taglist\",\"name\":\"fade\",\"mode\":\"out-in\"}},_vm._l((_vm.tags),function(tag){return _c('b-tag',{key:tag.title,staticClass:\"noselect\",class:_vm.activeTag == tag.title ?'is-danger' : 'is-warning',staticStyle:{\"cursor\":\"pointer\"},attrs:{\"unselectable\":\"on\",\"type\":\"is-warning\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onClick(tag.title)}}},[_vm._v(_vm._s(tag.title)+\" \")])}),1),_c('p',{staticClass:\"my-2\",staticStyle:{\"display\":\"inline-block\",\"text-align\":\"right\",\"font-size\":\"12px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.showAllTags = !_vm.showAllTags}}},[_vm._v(\" \"+_vm._s(_vm.showAllTags ? 'Show less tags.' : 'Show more tags.'))]),(_vm.interests.length>0)?_c('h6',[_vm._v(\"Your Interests\")]):_vm._e(),(_vm.interests.length>0)?_c('transition-group',{attrs:{\"tag\":\"b-taglist\",\"name\":\"fade\",\"mode\":\"out-in\"}},_vm._l((_vm.localTags),function(tag){return _c('b-tag',{key:tag,staticClass:\"noselect\",class:_vm.activeTag == tag ?'is-danger' : 'is-warning',staticStyle:{\"cursor\":\"pointer\"},style:({'color' : _vm.darkMode ? '#ddd!important;' : '#333!important;'}),attrs:{\"unselectable\":\"on\",\"type\":\"is-warning\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.onClick(tag)}}},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),1):_vm._e(),(_vm.localTags.length>0)?_c('p',{staticClass:\"my-2\",staticStyle:{\"text-align\":\"right\",\"font-size\":\"12px\",\"cursor\":\"pointer\",\"display\":\"inline-block\"}},[_vm._v(\"Show all your interests.\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h6>Popular Tags</h6>\n    <transition-group tag=\"b-taglist\" name=\"fade\" mode=\"out-in\">\n      <b-tag\n          unselectable=\"on\"\n          class=\"noselect\"\n          :key=\"tag.title\"\n          :class=\"activeTag == tag.title ?'is-danger' : 'is-warning'\" @click.native.prevent=\"onClick(tag.title)\"\n          v-for=\"tag in tags\" type=\"is-warning\" style=\"cursor: pointer\">{{ tag.title }}\n      </b-tag>\n    </transition-group>\n    <p class=\"my-2\" @click=\"showAllTags = !showAllTags\"\n       style=\"display:inline-block;text-align: right; font-size: 12px; cursor: pointer; display: inline-block\">\n      {{ showAllTags ? 'Show less tags.' : 'Show more tags.' }}</p>\n    <h6 v-if=\"interests.length>0\">Your Interests</h6>\n    <transition-group v-if=\"interests.length>0\" tag=\"b-taglist\" name=\"fade\" mode=\"out-in\">\n      <b-tag\n          unselectable=\"on\"\n          class=\"noselect\"\n          :style=\"{'color' : darkMode ? '#ddd!important;' : '#333!important;'}\"\n          :key=\"tag\" :class=\"activeTag == tag ?'is-danger' : 'is-warning'\" @click.native.prevent=\"onClick(tag)\"\n          v-for=\"tag in localTags\" type=\"is-warning\" style=\"cursor: pointer\"> {{ tag }}\n      </b-tag>\n    </transition-group>\n    <p v-if=\"localTags.length>0\" class=\"my-2\" style=\"text-align: right; font-size: 12px; cursor: pointer; display: inline-block\">Show all your\n      interests.</p>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"DashboardTags\",\n  data() {\n    return {\n      localTags : [],\n      clicks: 0,\n      delay: 500,\n      activeTag: \"\",\n      timer: null,\n      showAllTags: false\n    }\n  },\n  computed: {\n    tags() {\n      const tags = this.$store.state.tags.slice()\n      if (!this.showAllTags) {\n        return tags.sort((a, b) => {\n          return a - b\n        }).slice(0, 10)\n      }\n      return tags.sort((a, b) => {\n        return a - b\n      })\n    },\n    interests() {\n      const ls = localStorage.getItem('interests')\n      if (ls) {\n        if(JSON.parse(ls) == this.localTags){\n          return this.localTags\n        }\n        else {\n          return JSON.parse(ls)\n        }\n      }\n      return []\n    },\n    darkMode() {\n      return this.$store.getters['getNightMode']\n    },\n    dashboardContentLength() {\n      return this.$store.getters.getDashboard.length\n    }\n  },\n  methods: {\n    onClick(tag) {\n      const self = this;\n      this.clicks++\n      if (this.clicks === 1) {\n        this.timer = setTimeout(function () {\n          self.changeTag(tag)\n          self.clicks = 0\n        }, self.delay);\n      } else {\n        clearTimeout(this.timer);\n        if (self.isTagAddable(tag)) {\n          self.addTagToInterests(tag)\n        } else {\n          self.removeTagFromInterests(tag)\n        }\n        this.clicks = 0;\n      }\n    },\n    isTagAddable(tag) {\n      return this.interests.indexOf(tag) <= 0;\n    },\n    addTagToInterests(tag) {\n      let interests = localStorage.getItem('interests')\n      if (interests) {\n        interests = JSON.parse(interests)\n        interests.push(tag)\n        interests = [...new Set(interests)]\n        this.localTags = [...new Set(this.localTags), tag]\n        interests = JSON.stringify(interests)\n        localStorage.setItem('interests', interests)\n      } else {\n        interests = [tag]\n        interests = JSON.stringify(interests)\n        localStorage.setItem('interests', interests)\n      }\n    },\n    removeTagFromInterests(tag) {\n      let interests = localStorage.getItem('interests')\n      if (interests) {\n        interests = JSON.parse(interests)\n        const index = interests.indexOf(tag)\n        if (index > -1) {\n          interests.splice(index, 1)\n          interests = JSON.stringify(interests)\n          localStorage.setItem('interests', interests)\n          this.localTags = [...new Set(this.localTags)]\n          this.localTags = this.localTags.filter(val=>{\n            return val !== tag\n          })\n        }\n      }\n    },\n    changeTag(title) {\n      this.activeTag = title\n      this.$emit('tagChange', title)\n    }\n  },\n  created() {\n    if (!this.dashboardContentLength || this.dashboardContentLength === 0) {\n      this.$store.dispatch('getDashboard')\n    }\n    if(localStorage.getItem('interests')){\n      this.localTags = JSON.parse(localStorage.getItem('interests'))\n    } else {\n      this.localTags = []\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.noselect, .noselect > *\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -moz-user-select: none; /* Old versions of Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none; /* Non-prefixed version, currently */\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardTags.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DashboardTags.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DashboardTags.vue?vue&type=template&id=196f65e8&\"\nimport script from \"./DashboardTags.vue?vue&type=script&lang=js&\"\nexport * from \"./DashboardTags.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DashboardTags.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"title\">\n      <h1 :style=\"{'color' : !nm ? '#333' : '#ddd'}\">Dashboard</h1>\n      <p style=\"font-size: 12px; opacity: 0.75; margin-top: 5px\">Explore new content by your interests on Pexies.</p>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <transition-group  tag=\"div\" name=\"fadeUp\" mode=\"out-in\" class=\"columns\">\n          <div :class=\"{extend : !showNavbar}\" key=\"content\" class=\"column is-9\">\n            <Photos :pageStart=\"pagination.current*perPage-perPage\" :pageEnd=\"pagination.current*perPage\" name=\"dashboard\"></Photos>\n          </div>\n          <div style=\"transition: 300ms all\"\n               :style=\"[!showNavbar && width<500 ? 'height: 1px!important; min-height: 1px!important' : '',\n               width<500 && showNavbar ? 'min-height: 30vh!important; height:30vh;': '']\"\n               key=\"tags\" class=\"column is-3\">\n            <p v-if=\"showNavbar\" style=\"font-size: 12px; opacity: 0.75; margin-top: 5px\" class=\"my-2\">Add a tag to favourites by double clicking on it.</p>\n            <DashboardTags v-if=\"showNavbar\" @tagChange=\"tagChange($event)\"></DashboardTags>\n          </div>\n        </transition-group>\n      </div>\n    </div>\n    <div class=\"bottom-bar\" :class=\"nm ? 'bg-dark' : ''\"\n         :style=\"{'color' : !nm ? '#333!important' : '#ddd!important'}\">\n      <pagination\n          :class=\"nm ? 'bg-dark' : ''\" :style=\"{'color' : !nm ? '#333!important' : '#ddd!important'}\"\n          type=\"is-warning\"\n          order=\"is-centered\"\n          icon-pack=\"fa\"\n          :pagination=\"pagination\"\n          :per-page=\"perPage\"\n          @pageChange=\"pageChange($event)\"\n      >\n      </pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DashboardTags from \"@/components/DashboardTags\";\nimport Photos from \"@/components/Photos\";\nexport default {\n  name: \"Dashboard\",\n  components: {Photos, DashboardTags},\n  data(){\n    return {\n      showNavbar: true,\n      lastScrollPosition: 0,\n      perPage:20,\n      pagination: {\n        name: \"dashboard\",\n        current: 1,\n        rangeBefore: 2,\n        rangeAfter: 2,\n        prevIcon: 'chevron-left',\n        nextIcon: 'chevron-right'\n      },\n    }\n  },\n  computed:{\n    nm() {\n      return this.$store.getters.getNightMode\n    },\n    width(){\n      return window.innerWidth\n    }\n  },\n  methods:{\n    onScroll () {\n      const el = document.getElementById('intersection')\n      const currentScrollPosition = el.scrollTop\n      if (currentScrollPosition < 0) {\n        return\n      }\n      console.log(currentScrollPosition,this.lastScrollPosition)\n      if (Math.abs(currentScrollPosition - this.lastScrollPosition) < 60) {\n        return\n      }\n      this.showNavbar = currentScrollPosition < this.lastScrollPosition\n      this.lastScrollPosition = currentScrollPosition\n    },\n    pageChange(i) {\n      this.pagination.current = i\n    },\n    tagChange(tag){\n      this.$store.dispatch('getDashboard', tag)\n    }\n  },\n  mounted() {\n    this.$store.commit('hideLoader')\n    if(this.$store.getters.getAuth == false) {\n      return\n    }\n    if(window.innerWidth <500){\n      document.getElementById('intersection').addEventListener('scroll', this.onScroll)\n    }\n  },\n  beforeDestroy () {\n    if(window.innerWidth <500) {\n      document.getElementById('intersection').removeEventListener('scroll', this.onScroll)\n    }\n  }\n}\n</script>\n\n<style>\n\n.row * {\n  transition: 300ms ease-in-out;\n}\n.extend > #intersection{\n  max-height: 81vh!important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=41ae5091&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.propCopy)?_c('div',{staticClass:\"photo_link_wrapper\"},[_c('b-tag',{staticClass:\"photographer\",attrs:{\"type\":\"is-primary\"}},[(_vm.propCopy.photographer_url)?_c('a',{staticStyle:{\"color\":\"white\"},attrs:{\"target\":\"_blank\",\"href\":_vm.propCopy.photographer_url}},[_vm._v(\" \"+_vm._s(_vm.propCopy.photographer && _vm.propCopy.photographer.length > 15 ? _vm.propCopy.photographer.substring(0, 15) + '...' : _vm.propCopy.photographer + 'unknown')+\" \")]):_vm._e()]),_c('transition-group',{staticClass:\"like_button\",attrs:{\"tag\":\"div\",\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPhotoLikeable(_vm.propCopy) && _vm.path !== '/favourites'),expression:\"isPhotoLikeable(propCopy) && path !== '/favourites'\"}],key:'like',on:{\"click\":function($event){return _vm.like(_vm.propCopy)}}},[_c('i',{staticClass:\"fa fa-heart btn_icon\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isPhotoLikeable(_vm.propCopy)),expression:\"!isPhotoLikeable(propCopy)\"}],key:'dislike',on:{\"click\":function($event){return _vm.dislike(_vm.propCopy)}}},[_c('i',{staticClass:\"fa fa-times btn_icon\"})])]),_c('span',{staticClass:\"expand_button\",on:{\"click\":_vm.expand}},[_c('i',{staticClass:\"fa fa-expand btn_icon\"})]),_c('span',{staticClass:\"visit_button\",on:{\"click\":_vm.visit}},[_c('i',{staticClass:\"fa fa-search btn_icon\"})])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport {Photo} from \"@/models/photo\";\n\nexport default Vue.extend({\n  props: ['photo'],\n  data() {\n    return {\n      propCopy: <Photo>{}\n    }\n  },\n  created() {\n    this.propCopy = JSON.parse(JSON.stringify(this.photo))\n    this.$emit('like')\n  },\n  mounted(){\n    this.$emit('like')\n  },\n  methods: {\n    expand(event: Event) {\n      this.$store.commit('showLoader')\n      var img = document.createElement('img')\n      img.src = this.propCopy.src.original\n      img.onload = function (e: any) {\n        if (e.path && e.path[0]) {\n          const aspect$ = e.path[0].naturalWidth / e.path[0].naturalHeight\n          send(aspect$)\n        }\n      }\n      const self = this;\n\n      function send(aspectRatio: number) {\n        let className;\n        if (aspectRatio < 0.5) {\n          className = \"4by3\"\n        } else {\n          className = \"16by9\"\n        }\n        const h = self.$createElement\n        const vnode = h('p', {class: `image modal_image is-${className}`}, [\n          h('img', {attrs: {src: self.propCopy.src.original}})\n        ])\n        self.$store.dispatch('expandPhoto', {$el: vnode, $buefy: self.$buefy})\n      }\n\n    },\n    visit() {\n      window.open(this.propCopy.url, '_blank')\n    },\n    like(photo: Photo) {\n      if (!this.isPhotoLikeable(photo)) {\n        this.$buefy.toast.open({\n          message: \"You already liked this photo.\",\n          type: \"is-danger\"\n        })\n        return\n      }\n      this.propCopy.liked = true\n      this.$store.dispatch('likePhoto', {photo, username: this.$store.state.auth.user.username, $buefy: this.$buefy})\n      this.$emit('like')\n\n    },\n    dislike(photo: any) {\n      const username = this.$store.getters.getCurrentUser.username\n      this.$store.dispatch('dislikePhoto', {photo, username, $buefy:this.$buefy})\n      this.$emit('like')\n    },\n    isPhotoLikeable(p: Photo) {\n      const exists = this.likedImgs.find((val: Photo) => {\n        return val.url == p.url\n      })\n      if (exists) {\n        return false\n      }\n      return true\n    }\n  },\n\n  computed: {\n    path() {\n      return this.$route.path\n    },\n    likedImgs() {\n      const i = localStorage.getItem('likedPhotos')\n      const a = this.$store.getters.getCurrentUsersFavourites\n      if (!a && i) return JSON.parse(i)\n      if (i && a) return [...JSON.parse(i), ...a]\n      return []\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Photo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Photo.vue?vue&type=template&id=63b2eaac&\"\nimport script from \"./Photo.vue?vue&type=script&lang=ts&\"\nexport * from \"./Photo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Photo.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}