(function(e){function t(t){for(var o,r,n=t[0],l=t[1],u=t[2],c=0,p=[];c<n.length;c++)r=n[c],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],o=!0,r=1;r<s.length;r++){var n=s[r];0!==a[n]&&(o=!1)}o&&(i.splice(t--,1),e=l(l.s=s[0]))}return e}var o={},r={app:0},a={app:0},i=[];function n(e){return l.p+"js/"+({favourites:"favourites",profile:"profile",profileID:"profileID",search:"search"}[e]||e)+"."+{favourites:"bfe55425",profile:"03592e3e",profileID:"cb4c4eaa",search:"68fd1933"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(e){var t=[],s={favourites:1,profile:1,profileID:1,search:1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=new Promise((function(t,s){for(var o="css/"+({favourites:"favourites",profile:"profile",profileID:"profileID",search:"search"}[e]||e)+"."+{favourites:"bc00759e",profile:"afa7f362",profileID:"297171ac",search:"70a00431"}[e]+".css",a=l.p+o,i=document.getElementsByTagName("link"),n=0;n<i.length;n++){var u=i[n],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===o||c===a))return t()}var p=document.getElementsByTagName("style");for(n=0;n<p.length;n++){u=p[n],c=u.getAttribute("data-href");if(c===o||c===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],d.parentNode.removeChild(d),s(i)},d.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){r[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,s){o=a[e]=[t,s]}));t.push(o[2]=i);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=n(e);var p=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(d);var s=a[e];if(0!==s){if(s){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",p.name="ChunkLoadError",p.type=o,p.request=r,s[1](p)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(s,o,function(t){return e[t]}.bind(null,o));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var d=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"1f21":function(e,t,s){"use strict";var o=s("775e"),r=s.n(o);r.a},2352:function(e,t,s){"use strict";var o=s("ec72"),r=s.n(o);r.a},"32fe":function(e,t,s){},"45e7":function(e,t,s){"use strict";var o=s("32fe"),r=s.n(o);r.a},"4fc1":function(e,t,s){},"5fed":function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"photos",attrs:{id:"intersection"}},[s("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center","justify-content":"center",height:"100%",width:"100%"}},e._l(e.photos,(function(t,o){return s("div",{key:o+""+Math.random(),staticClass:"photo",class:[e.lightMode?"dark_shadows":"light",o<e.perPage?"":"intersect",e.isPhotoLikeable(t)?"":"disable_grayscale"],staticStyle:{width:"200px",height:"200px"},style:{backgroundImage:"url("+t.src.medium+")",visibility:o<e.perPage?"":"hidden",opacity:o<e.perPage?1:0}},[s("div",[s("Photo",{attrs:{photo:t},on:{like:function(t){return e.callbackFunc()}}})],1)])})),0),e.photos&&0==e.photos.length||!e.photos?s("b-message",{key:"message",staticClass:"my-2",staticStyle:{"animation-duration":"100ms"},attrs:{type:"is-danger"}},[e._v("There is nothing here... ")]):e._e()],1)},r=[],a=s("7856"),i={props:["name","userPhotos"],data(){return{offsetTop:0,currentPage:1,total:null,loaded:!1}},watch:{photos(){this.callbackFunc()},offsetTop(e){this.callbackFunc()}},components:{Photo:a["a"]},computed:{likedImgs(){const e=localStorage.getItem("likedPhotos"),t=this.$store.getters.getCurrentUsersFavourites;return t?t&&e?[...JSON.parse(e),...t]:[]:JSON.parse(e)},perPage(){return window.innerWidth>=1920?21:window.innerWidth>=1440?15:window.innerWidth>=1280?10:window.innerWidth>=768?12:4},lightMode(){return this.$store.getters["getNightMode"]},photos(){if("curated"==this.$props.name)return this.$store.getters.getCuratedPhotos;if("random"==this.$props.name)return this.$store.getters.getRandomPhotos;if("user"==this.$props.name){const e=this.$store.getters.getCurrentUsersFavourites;return e||[]}if("guest"==this.$props.name){const e=this.$store.getters.getFavourites;return e||[]}if("search"==this.$props.name)return this.$store.getters.getSearchResults;if("profile"==this.$props.name){const e=this.$store.getters.getCurrentUsersFavourites;return console.log(e),e.reverse()}if("profileID"==this.$props.name){const e=this.$props.userPhotos;return e.reverse()}return[]}},methods:{isPhotoLikeable(e){const t=this.likedImgs.find(t=>t.url==e.url);return!t},onScroll(e){console.log("scrolling");const t=document.getElementById("intersection");this.offsetTop=t.scrollTop},isElementInViewport(e){const t=document.getElementById("intersection"),s=e.getBoundingClientRect();return s.top>=0&&s.bottom<=(t.innerHeight||t.clientHeight)+300},callbackFunc(){const e=document.querySelectorAll(".intersect");for(let t=0;t<e.length;t++)this.isElementInViewport(e[t])?e[t].classList.add("in-view"):e[t].classList.remove("in-view")}},async mounted(){const e=document.getElementById("intersection");switch(e.addEventListener("scroll",this.onScroll),this.$props.name){case"curated":this.$store.dispatch("getCuratedPexels",this.$buefy).then(e=>{this.offsetTop=100,this.offsetTop=0});break;case"random":this.$store.dispatch("getRandomPexels",this.$buefy).then(e=>{this.offsetTop=100,this.offsetTop=0});break;case"user":break;case"guest":this.$store.dispatch("loadFavourites",this.$buefy).then(e=>{this.offsetTop=100,this.offsetTop=0});break}this.callbackFunc(),setTimeout(()=>{this.loaded=!0},5e3)},destroyed(){const e=document.getElementById("intersection");e.removeEventListener("scroll",this.onScroll)}},n=i,l=(s("45e7"),s("2877")),u=Object(l["a"])(n,o,r,!1,null,null,null);t["a"]=u.exports},"775e":function(e,t,s){},7856:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.propCopy?s("div",{staticClass:"photo_link_wrapper"},[s("b-tag",{staticClass:"photographer",attrs:{type:"is-primary"}},[e.propCopy.photographer_url?s("a",{staticStyle:{color:"white"},attrs:{target:"_blank",href:e.propCopy.photographer_url}},[e._v(" "+e._s(e.propCopy.photographer&&e.propCopy.photographer.length>15?e.propCopy.photographer.substring(0,15)+"...":e.propCopy.photographer+"unknown")+" ")]):e._e()]),s("transition-group",{staticClass:"like_button",attrs:{tag:"div",name:"fade",mode:"out-in"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.isPhotoLikeable(e.propCopy)&&"/favourites"!==e.path,expression:"isPhotoLikeable(propCopy) && path !== '/favourites'"}],key:"like",on:{click:function(t){return e.like(e.propCopy)}}},[s("i",{staticClass:"fa fa-heart btn_icon"})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isPhotoLikeable(e.propCopy),expression:"!isPhotoLikeable(propCopy)"}],key:"dislike",on:{click:function(t){return e.dislike(e.propCopy)}}},[s("i",{staticClass:"fa fa-times btn_icon"})])]),s("span",{staticClass:"expand_button",on:{click:e.expand}},[s("i",{staticClass:"fa fa-expand btn_icon"})]),s("span",{staticClass:"visit_button",on:{click:e.visit}},[s("i",{staticClass:"fa fa-search btn_icon"})])],1):e._e()},r=[],a=s("9ab4"),i=s("2b0e"),n=i["a"].extend({props:["photo"],data:function(){return{propCopy:{}}},created:function(){this.propCopy=JSON.parse(JSON.stringify(this.photo)),this.$emit("like")},mounted:function(){this.$emit("like")},methods:{expand:function(e){this.$store.commit("showLoader");var t=document.createElement("img");t.src=this.propCopy.src.original,t.onload=function(e){if(e.path&&e.path[0]){var t=e.path[0].naturalWidth/e.path[0].naturalHeight;o(t)}};var s=this;function o(e){var t;t=e<.5?"4by3":"16by9";var o=s.$createElement,r=o("p",{class:"image modal_image is-"+t},[o("img",{attrs:{src:s.propCopy.src.original}})]);s.$store.dispatch("expandPhoto",{$el:r,$buefy:s.$buefy})}},visit:function(){window.open(this.propCopy.url,"_blank")},like:function(e){this.isPhotoLikeable(e)?(this.propCopy.liked=!0,this.$store.dispatch("likePhoto",{photo:e,username:this.$store.state.auth.user.username,$buefy:this.$buefy}),this.$emit("like")):this.$buefy.toast.open({message:"You already liked this photo.",type:"is-danger"})},dislike:function(e){console.log(this.path),this.$store.dispatch("dislikePhoto",e),this.$buefy.toast.open({message:"Photo removed from your library!",type:"is-success"}),"/favourites"!==this.path&&(this.propCopy.liked=!1),this.$emit("like")},isPhotoLikeable:function(e){var t=this.likedImgs.find((function(t){return t.url==e.url}));return!t}},computed:{path:function(){return this.$route.path},likedImgs:function(){var e=localStorage.getItem("likedPhotos"),t=this.$store.getters.getCurrentUsersFavourites;return!t&&e?JSON.parse(e):e&&t?Object(a["c"])(JSON.parse(e),t):[]}}}),l=n,u=(s("2352"),s("2877")),c=Object(u["a"])(l,o,r,!1,null,null,null);t["a"]=c.exports},"7faf":function(e,t,s){"use strict";var o=s("b8ff"),r=s.n(o);r.a},b8ff:function(e,t,s){},c219:function(e,t,s){"use strict";var o=s("4fc1"),r=s.n(o);r.a},cd49:function(e,t,s){"use strict";s.r(t);var o=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.darkMode?"bg-dark":"",attrs:{id:"app"}},[s("GoToTop"),e.$store.state.loading?s("div",{attrs:{id:"loader"}},[s("q-spinner-ios",{staticStyle:{color:"white"},attrs:{size:"48"}})],1):e._e(),s("div",{staticClass:"nightMode"},[s("b-switch",{attrs:{"passive-type":"is-dark",type:"is-warning"},model:{value:e.nm,callback:function(t){e.nm=t},expression:"nm"}},[s("span",{style:{color:e.darkMode?"#ddd":"#333"}},[e._v(e._s(e.darkMode?"Dark Mode":"Light Mode"))])])],1),s("div",{attrs:{id:"nav"}},[s("div",{staticClass:"routes"},[s("router-link",{staticClass:"router-link",attrs:{to:"/",tag:"a"}},[s("i",{staticClass:"fas fa-dice-six link"})]),s("span",{staticClass:"mx-1"},[e._v("|")]),s("router-link",{staticClass:"router-link",attrs:{to:"/curated",tag:"a"}},[s("i",{staticClass:"fas fa-heart link"})]),s("span",{staticClass:"mx-1"},[e._v("|")]),s("router-link",{staticClass:"router-link",attrs:{to:"/favourites",tag:"a"}},[s("i",{staticClass:"fas fa-thumbs-up link"})]),s("span",{staticClass:"mx-1"},[e._v("|")]),s("router-link",{staticClass:"router-link",attrs:{to:"/search",tag:"a"}},[s("i",{staticClass:"fas fa-search link"})]),s("span",{staticClass:"mx-1"},[e._v("|")]),0==e.$store.state.auth.auth?s("a",{on:{click:function(t){return t.preventDefault(),e.showLogin()}}},[s("i",{staticClass:"fas fa-key link"})]):e._e(),0==e.$store.state.auth.auth?s("span",{staticClass:"mx-1"},[e._v("|")]):e._e(),0==e.$store.state.auth.auth?s("a",{on:{click:function(t){return t.preventDefault(),e.showSignup()}}},[s("i",{staticClass:"fa fa-user-plus link"})]):e._e(),1==e.$store.state.auth.auth?s("router-link",{attrs:{to:"/profile"}},[s("i",{staticClass:"fa fa-user link"})]):e._e(),1==e.$store.state.auth.auth?s("span",{staticClass:"mx-1"},[e._v("|")]):e._e(),s("a",{directives:[{name:"show",rawName:"v-show",value:1==e.$store.state.auth.auth,expression:"$store.state.auth.auth == true"}],on:{click:function(t){return t.preventDefault(),e.logout()}}},[s("i",{staticClass:"fas fa-door-open link"})])],1)]),s("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Signup",{attrs:{showLogin:e.showLogin},on:{close:t.close}})]}}]),model:{value:e.isSignupModalActive,callback:function(t){e.isSignupModalActive=t},expression:"isSignupModalActive"}}),s("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Login",{attrs:{newUser:e.newUser},on:{close:t.close}})]}}]),model:{value:e.isLoginModalActive,callback:function(t){e.isLoginModalActive=t},expression:"isLoginModalActive"}}),s("transition",{staticStyle:{"animation-duration":"0.2s"},attrs:{name:"fade",mode:"out-in"}},[s("router-view",{key:e.path,staticStyle:{"overflow-x":"hidden"},attrs:{appear:""}})],1)],1)},a=[],i=s("fe09"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head",class:e.darkMode?"bg-dark":""},[s("p",{staticClass:"modal-card-title"},[e._v("Sign up")]),s("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),s("section",{staticClass:"modal-card-body",class:e.darkMode?"bg-dark":""},[s("b-field",{attrs:{label:"Pick a username"}},[s("b-input",{attrs:{minlength:"3",type:"text",placeholder:"DarthVader420",required:""},model:{value:e.User.username,callback:function(t){e.$set(e.User,"username",t)},expression:"User.username"}})],1),s("b-field",{attrs:{label:"Your email"}},[s("b-input",{attrs:{type:"email",placeholder:"somecoolname@example.com",required:""},model:{value:e.User.email,callback:function(t){e.$set(e.User,"email",t)},expression:"User.email"}})],1),s("b-field",{attrs:{label:"Password"}},[s("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:e.User.password,callback:function(t){e.$set(e.User,"password",t)},expression:"User.password"}})],1),s("b-field",{attrs:{label:"Password Confirmation"}},[s("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Repeat our password",required:""},model:{value:e.User.passwordConfirmation,callback:function(t){e.$set(e.User,"passwordConfirmation",t)},expression:"User.passwordConfirmation"}})],1),s("b-field",{attrs:{label:"Password Strength"}},[s("Meter",{attrs:{"strength-meter-only":!0},model:{value:e.User.password,callback:function(t){e.$set(e.User,"password",t)},expression:"User.password"}})],1)],1),s("footer",{staticClass:"modal-card-foot",class:e.darkMode?"bg-dark":""},[s("button",{staticClass:"button",class:e.darkMode?"is-dark":"",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[e._v("Close")]),s("button",{staticClass:"button",class:e.darkMode?"is-danger":"is-warning",on:{click:function(t){return e.signup()}}},[e._v("Sign up")])])])},l=[],u=s("f20a"),c=s.n(u),p={name:"Signup",props:["showLogin"],components:{Meter:c.a},data(){return{User:{username:"",email:"",password:"",passwordConfirmation:""},mailRegexp:/^\w+([-]?\w+)*@\w+([-]?\w+)*(\.\w{2,3})+$/}},computed:{darkMode(){return this.$store.getters["getNightMode"]}},methods:{validation(){return this.mailRegexp.test(this.User.email)},close(){this.$emit("close")},signup(){if(!1===this.validation())return void this.$buefy.toast.open({message:"Please enter a valid email.",type:"is-warning"});if(this.User.password!==this.User.passwordConfirmation)return void this.$buefy.toast.open({message:"You passwords don't match.",type:"is-warning"});const e=JSON.parse(JSON.stringify(this.User));this.$store.dispatch("signup",{User:e,Login:this.showLogin,$buefy:this.$buefy,Close:this.close,$router:this.$router})}}},d=p,h=s("2877"),f=Object(h["a"])(d,n,l,!1,null,"5448fb69",null),m=f.exports,g=s("a78e"),v=s.n(g),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[s("header",{staticClass:"modal-card-head",class:e.darkMode?"bg-dark":""},[s("p",{staticClass:"modal-card-title"},[e._v("Login")]),s("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),s("section",{staticClass:"modal-card-body",class:e.darkMode?"bg-dark":""},[s("b-field",{attrs:{label:"Username"}},[s("b-input",{attrs:{type:"text",placeholder:"EpicGamer2020",required:""},model:{value:e.User.username,callback:function(t){e.$set(e.User,"username",t)},expression:"User.username"}})],1),s("b-field",{attrs:{label:"Password"}},[s("b-input",{ref:"pwInput",attrs:{type:"password","password-reveal":"",placeholder:"Your epic password",required:""},model:{value:e.User.password,callback:function(t){e.$set(e.User,"password",t)},expression:"User.password"}})],1),s("b-checkbox",{model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}},[e._v("Remember Me")])],1),s("footer",{staticClass:"modal-card-foot",class:e.darkMode?"bg-dark":""},[s("button",{staticClass:"button",class:e.darkMode?"is-dark":"",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}},[e._v("Close")]),s("button",{staticClass:"button",class:e.darkMode?"is-danger":"is-warning",on:{click:function(t){return e.login()}}},[e._v("Login")])])])},y=[],w={name:"Signup",props:["newUser"],data(){return{remember:!0,User:{username:"",password:""}}},computed:{darkMode(){return this.$store.getters["getNightMode"]}},methods:{close(){this.$emit("close")},login(){if(!this.User.password||!this.User.username)return void this.$buefy.toast.open({message:"Please enter your username and password.",type:"is-warning"});const e=JSON.parse(JSON.stringify(this.User));this.$store.dispatch("login",{User:e,$buefy:this.$buefy,$router:this.$router,Close:this.close,Remember:this.remember})}},mounted(){this.newUser&&(this.User.username=this.newUser.username,this.$refs.pwInput.focus())}},k=w,C=Object(h["a"])(k,b,y,!1,null,"d028f6e8",null),S=C.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"vue-go-top"}},[e.isActive&&e.enabled?s("div",{staticClass:"vue-go-top",style:e.mainStyle,attrs:{role:"button",tabindex:e.tabindex},on:{click:function(t){return t.preventDefault(),e.clickHandle(t)},keydown:function(t){return t.preventDefault(),e.keyEnter(t)}}},[null!==e.src?s("div",{staticClass:"vue-go-top__icon"},[s("img",{staticClass:"vue-go-top__image",attrs:{src:e.src,alt:e.alt}}),s("div",{staticClass:"vue-go-top__ripple",style:e.rippleStyle,attrs:{"is-active":e.isRippleActive}})]):s("div",{staticClass:"vue-go-top__content"},[s("div",{staticClass:"vue-go-top__ripple",style:e.rippleStyle,attrs:{"is-active":e.isRippleActive}}),e._t("default")],2)]):e._e()])},$=[],_=s("7a1a"),P=s("6cbf"),L=s.n(P);const U=13,M=32,R=750,N=100,O=(e,t)=>{const s=t.replace(/^#/,"");return"bold"===e?"data:image/svg+xml;charset=utf8, %3Csvg version=%271.1%27 xmlns=%27http://www.w3.org/2000/svg%27 width=%2710px%27 height=%2710px%27%3E %3Cpolygon fill=%27%23"+s+"%27 stroke=%27none%27 points=%278.646,7.354 5,3.707 1.354,7.354 0.646,6.646 5,2.293 9.354,6.646%27 /%3E %3C/svg%3E":"data:image/svg+xml;charset=utf8,%3Csvg version=%271.1%27 xmlns=%27http://www.w3.org/2000/svg%27 width=%2710px%27 height=%2710px%27%3E %3Cpolygon fill=%27%23"+s+"%27 stroke=%27none%27 points=%278.589,6.945 5,3.22 1.413,6.945 1.052,6.598 5,2.499 8.948,6.598%27 /%3E %3C/svg%3E"},I=(e,t="px")=>"number"===typeof e?e+t:e,T=new L.a;var E={props:{size:{type:Number,default:40},right:{type:[String,Number],default:50},bottom:{type:[String,Number],default:100},bottomGap:{type:[String,Number],default:0},zIndex:{type:Number,default:1e3},fgColor:{type:String,default:"#ffffff"},bgColor:{type:String,default:"#ffc200"},radius:{type:[String,Number],default:"50%"},weight:{type:String,default:"normal"},rippleBg:{type:String,default:"rgba(255, 255, 255, .5)"},boundary:{type:Number,default:200},maxWidth:{type:Number,default:640},src:{type:String,default:null},alt:{type:String,default:""},hasOutline:{type:Boolean,default:!0},boxShadow:{type:String,default:"1px 1px 2px rgba(0, 0, 0, .3)"},tabindex:{type:Number,default:0}},data(){const e=this.hasOutline?{}:{outline:"0 none"};return{enabled:!1,isActive:!1,isRippleActive:!1,mainStyle:{width:I(this.size),height:I(this.size),right:I(this.right),bottom:`calc(${I(this.bottom)} - ${I(this.bottomGap)})`,zIndex:this.zIndex,color:this.fgColor,backgroundColor:this.bgColor,backgroundImage:this.bgImage(),backgroundSize:this.size+" auto",boxShadow:this.boxShadow,opacity:this.opacity,borderRadius:I(this.radius),...e},rippleStyle:{top:I(-this.size),left:I(-this.size),width:"200%",height:"200%",backgroundColor:this.rippleBg},throttleScroll:null,throttleResize:null}},created(){this.handleResize(),this.throttleScroll=Object(_["throttle"])(N,this.handleScroll),this.throttleResize=Object(_["throttle"])(N,this.handleResize),window.addEventListener("resize",this.throttleResize),window.addEventListener("scroll",this.throttleScroll)},beforeDestroy(){this.throttleResize&&window.removeEventListener("resize",this.throttleResize),this.throttleScroll&&window.removeEventListener("scroll",this.throttleScroll)},methods:{clickHandle(e){if(!this.isRippleActive){const t=e.target;if(t){const s=t.getBoundingClientRect(),o=e.clientY-s.top,r=e.clientX-s.left;this.rippleStyle.top=I(o-this.size),this.rippleStyle.left=I(r-this.size)}this.isRippleActive=!0,setTimeout(()=>{this.isRippleActive=!1},R)}T.to(0)},handleScroll(){this.isActive=window.pageYOffset>this.boundary},handleResize(){this.maxWidth>0?this.enabled=!window.matchMedia(`(max-width: ${this.maxWidth}px)`).matches:this.enabled=!0},keyEnter(e){e.keyCode!==U&&e.keyCode!==M||T.to(0)},bgImage:function(){return null!==this.src?"none":`url("${O(this.weight,this.fgColor)}")`}}},A=E,F=(s("1f21"),Object(h["a"])(A,x,$,!1,null,"25dd8829",null)),j=F.exports,z={components:{QSpinnerIos:i["b"],Signup:m,Login:S,GoToTop:j},data(){return{newUser:null,isSignupModalActive:!1,isLoginModalActive:!1,nm:null}},methods:{showSignup(){this.isSignupModalActive=!0},showLogin(e=null){e&&(this.newUser=e),this.isLoginModalActive=!0},logout(){this.$store.dispatch("logout")}},watch:{nm(e){const t=document.getElementById("favicon");this.$store.commit("switchNightMode",e),1==e?(document.body.classList.add("bg-dark"),t.href=t.href.toString().includes("pink")?t.href.toString().replace("faviconpink","favicon"):t.href):(document.body.classList.remove("bg-dark"),t.href=t.href.toString().includes("pink")?t.href:t.href.toString().replace("favicon","faviconpink"))}},computed:{darkMode(){return this.$store.getters["getNightMode"]}},mounted(){const e=g["get"]("nm");if(e){const t=JSON.parse(e);this.nm=t,this.$store.commit("switchNightMode",t);const s=document.getElementById("favicon");!0===t?(document.body.classList.add("bg-dark"),s.href=s.href.toString().includes("pink")?s.href.toString().replace("faviconpink","favicon"):s.href):(document.body.classList.remove("bg-dark"),s.href=s.href.toString().includes("pink")?s.href:s.href.toString().replace("favicon","faviconpink"))}const t=g["get"]("pexies_token"),s=g["get"]("pexies_username");t&&s&&(this.$store.commit("showLoader"),this.$store.dispatch("loginWithToken",{token:t,username:s,$buefy:this.$buefy})),setInterval(()=>{console.log(this.$store.state)},5e3)}},D=z,J=(s("7faf"),Object(h["a"])(D,r,a,!1,null,null,null)),B=J.exports,q=s("8c4f"),W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("div",{staticClass:"title"},[s("h1",{style:{color:e.nm?"#ddd":"#333"}},[e._v("Randomizer")])]),s("Photos",{attrs:{name:"random"}}),s("div",{staticClass:"bottom-bar",class:e.nm?"bg-dark":"",style:{color:e.nm?"#ddd!important":"#333!important"},on:{click:function(t){return e.randomize()}}},[s("i",{staticClass:"fas fa-dice",staticStyle:{"font-size":"48px"}})])],1)},H=[],Y=s("5fed"),G={name:"Home",components:{Photos:Y["a"]},computed:{nm(){return this.$store.getters.getNightMode}},methods:{randomize(){this.$store.dispatch("getRandomPexels")}}},V=G,K=(s("c219"),Object(h["a"])(V,W,H,!1,null,null,null)),Q=K.exports,X=s("9ab4"),Z=s("2f62"),ee=s("7338"),te=s.n(ee),se=function(){function e(){}return e}();te.a.defaults.baseURL=location.protocol+"//"+location.host;var oe={state:{auth:!1,user:{}},mutations:{successfulAuth:function(e,t){e.auth=!0,e.user=t},updatedUserPicture:function(e,t){e.user.preferences.profile_picture=t},updatedUserCover:function(e,t){e.user.preferences.profile_cover=t},updateFavs:function(e,t){console.log("new favs!"),console.log(t),e.user.favourites=t},pushNewFav:function(e,t){console.log("new favs!"),console.log(t),e.user.favourites.push(t)}},actions:{logout:function(e){v.a.remove("pexies_token"),v.a.remove("pexies_username"),location.reload()},signup:function(e,t){var s=t.$buefy,o=t.User,r=t.Login,a=t.Close;console.log("new user info:",o),te.a.post("/api/user/signup",o).then((function(e){var t=e.data;t.error?"exists"==t.code&&s.toast.open({message:t.error,type:"is-warning"}):t.username&&t.username.toString().toLowerCase()==o.username.toString().toLowerCase()&&(s.toast.open({message:"Account created!",type:"is-success"}),a(),r(t))})).catch((function(e){console.log(e),s.toast.open({message:"There was en error while authentication. Please retry."+e.data,type:"is-warning"})}))},login:function(e,t){var s=t.$buefy,o=t.User,r=(t.$router,t.Close),a=t.Remember;te.a.post("/api/user/login",o).then((function(t){var i=t.data;i&&i.username&&i.username.toLowerCase()==o.username.toLowerCase()?(e.commit("successfulAuth",i),a&&(v.a.set("pexies_token",i.token),v.a.set("pexies_username",i.username)),s.toast.open({message:"Welcome, "+(i.username.charAt(0)+i.username.substring(1,i.username.length))+"!",type:"is-success"}),ie.dispatch("syncFavs",{}),r()):i.error&&("not_found"==i.code?s.toast.open({message:i.error,type:"is-danger"}):s.toast.open({message:"There was en error while authentication. Please retry.",type:"is-danger"}))})).catch((function(e){s.toast.open({message:"There was en error while authentication. Please retry."+e.data})}))},loginWithToken:function(e,t){var s=t.token,o=t.username,r=t.$buefy;te.a.post("/api/user/login_token",{pexies_token:s,username:o}).then((function(t){var s=t.data;s&&s.username&&s.username.toLowerCase()==o.toLowerCase()?(e.commit("successfulAuth",s),r.toast.open({message:"Welcome back, "+(s.username.charAt(0)+s.username.substring(1,s.username.length))+"!",type:"is-success"}),ie.dispatch("syncFavs",{})):s.error&&("not_found"==s.code?r.toast.open({message:s.error,type:"is-danger"}):r.toast.open({message:"There was en error while authentication. Please retry.",type:"is-danger"}))})).catch((function(e){console.log(e),v.a.remove("pexies_token"),v.a.remove("pexies_username"),r.toast.open({message:"There was en error while authentication. Please retry."+e.data})}))},syncFavs:function(e,t){var s,o=t.$buefy,r=e.getters.getFavourites,a=e.getters.getCurrentUsersFavourites;r&&a?(s=Object(X["c"])(r,a),e.commit("showLoader"),te.a.defaults.headers.username=e.state.user.username,te.a.post("/api/user/sync_favourites",s).then((function(t){console.log(t),e.commit("updateFavs",t.data.favourites),e.commit("hideLoader")}))):o&&o.toast.open({message:"There is nothing in your favourites...",type:"is-warning"})}},getters:{}},re=function(e,t){return"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_"+t+".jpg"};function ae(e){var t={id:e.id,width:e.width,height:e.height,url:e.urls.regular,liked:e.liked_by_user,photographer:e.user.name+" "+e.user.last_name,photographer_url:"https://unsplash.com/@"+e.user.username,photographer_id:e.user.id,src:{original:e.urls.raw,large2x:e.urls.full,large:e.urls.raw,medium:e.urls.small,small:e.urls.small,portrait:e.urls.regular,landscape:e.urls.full,tiny:e.urls.thumb}};return t}te.a.defaults.baseURL=location.protocol+"//"+location.host,o["a"].use(Z["a"]);var ie=new Z["a"].Store({modules:{auth:oe},state:{flickrSearchResultTotal:1,unsplashSearchResultTotal:1,pexelsSearchResultTotal:1,nightMode:!1,curated:[],random:[],searchResults:{pexies:[],flickr:[],pexels:[],unsplash:[]},favourites:[],loading:!0,PPloading:!1,tags:[]},mutations:{switchNightMode:function(e,t){e.nightMode=t,g["set"]("nm",t)},hideLoader:function(e){e.loading=!1},showLoader:function(e){e.loading=!0},showPPLoader:function(e){e.PPloading=!0},hidePPLoader:function(e){e.PPloading=!1},storeCurated:function(e,t){e.curated=t},storeRandom:function(e,t){e.random=t},storeFavourites:function(e,t){e.favourites=t},updateFlickrPhotos:function(e,t){e.searchResults=t},updateTags:function(e,t){e.tags=t},updateSearchResults:function(e,t){e.searchResults.flickr=t.flickr,e.searchResults.pexels=t.pexels,e.searchResults.pexies=t.pexies,e.searchResults.unsplash=t.unsplash,console.log("search results:"),console.log(e.searchResults)},updatePages:function(e,t){var s=t.pageName,o=t.count;console.log(s,o),e[s]=o}},getters:{getTags:function(e){return e.tags},getCuratedPhotos:function(e){return e.curated},getRandomPhotos:function(e){return e.random},getFavourites:function(e){return e.favourites},getNightMode:function(e){return e.nightMode},getSearchResults:function(e){return e.searchResults},getCurrentUsersFavourites:function(e){return e.auth.user.favourites},updateNewFavourite:function(e,t){e.auth.user.favourites.push(t)},getCurrentUser:function(e){return e.auth.user},getAuth:function(e){return e.auth.auth}},actions:{fetchTags:function(e){te.a.get("/api/tags/get").then((function(t){console.log(t.data),e.commit("updateTags",t.data)}))},expandPhoto:function(e,t){var s=t.$buefy,o=t.$el;s.modal.open({content:[o]}),setTimeout((function(){e.commit("hideLoader")}),500)},loadFavourites:function(e){var t=localStorage.getItem("likedPhotos");t&&(t=JSON.parse(t),e.commit("storeFavourites",t)),e.commit("hideLoader")},likePhoto:function(e,t){var s=t.photo,o=t.username,r=t.$buefy,a=localStorage.getItem("likedPhotos");if(a){var i=JSON.parse(a);i.push(s),localStorage.setItem("likedPhotos",JSON.stringify(i))}else localStorage.setItem("likedPhotos","["+JSON.stringify(s)+"]");e.state.auth.auth&&(console.log("Favouriting..."),te.a.post("/api/user/favourite",{username:o,photo:s}).then((function(t){200==t.data.code?(e.commit("pushNewFav",s),r.toast.open({message:"Liked!",type:"is-success"})):r.toast.open({message:"There was en error. Please try again.",type:"is-warning"})})).catch((function(e){console.log(e)})))},dislikePhoto:function(e,t){var s=localStorage.getItem("likedPhotos");if(s){var o=JSON.parse(s);if(null!==o){var r=o.findIndex((function(e){return e.url==t.url}));o.splice(r,1),localStorage.setItem("likedPhotos",JSON.stringify(o)),e.dispatch("loadFavourites")}}},getRandomPexels:function(e,t){return Object(X["a"])(this,void 0,void 0,(function(){var s,o;return Object(X["b"])(this,(function(r){switch(r.label){case 0:e.commit("showLoader"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,te.a.get("/api/photos/pexels/random")];case 2:return s=r.sent(),o=s.data,s.headers,e.commit("storeRandom",o.photos),e.commit("hideLoader"),[3,4];case 3:return r.sent(),e.commit("hideLoader"),t.toast.open({message:"Can't reach api.",type:"is-danger"}),[3,4];case 4:return[2]}}))}))},getCuratedPexels:function(e,t){return Object(X["a"])(this,void 0,void 0,(function(){var s;return Object(X["b"])(this,(function(o){switch(o.label){case 0:e.commit("showLoader"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,te.a.get("/api/photos/pexels/curated")];case 2:return s=o.sent().data,e.commit("storeCurated",s),e.commit("hideLoader"),[3,4];case 3:return o.sent(),e.commit("hideLoader"),t.toast.open({message:"Can't reach api.",type:"is-danger"}),[3,4];case 4:return[2]}}))}))},searchOnAllPlatforms:function(e,t){var s=t.word,o=t.page,r=t.perPage,a=t.$buefy;return Object(X["a"])(this,void 0,void 0,(function(){var t,i,n,l,u,c,p,d;return Object(X["b"])(this,(function(h){switch(h.label){case 0:e.commit("showLoader"),t=[],i=[],n=[],h.label=1;case 1:return h.trys.push([1,3,,4]),[4,te.a.get("/api/search/photos/"+s+"/"+o+"/"+r)];case 2:return l=h.sent().data,console.log(l),u=l.flickr,c=l.pexels,l.pexies,p=l.unsplash,e.commit("updatePages",{pageName:"flickrSearchResultTotal",count:parseInt(u.total)}),e.commit("updatePages",{pageName:"pexelsSearchResultTotal",count:parseInt(c.total_results)}),e.commit("updatePages",{pageName:"unsplashSearchResultTotal",count:parseInt(p.total)}),u.photo&&u.photo.length>0&&u.photo.forEach((function(e){var s=new se;s.liked=!1,s.url=re(e,"o"),s.photographer_url="https://www.flickr.com/people/"+e.owner+"/",s.photographer=e.title,s.src={original:re(e,"b"),large2x:re(e,"t"),large:re(e,"t"),small:re(e,"n"),portrait:re(e,"n"),landscape:re(e,"c"),tiny:re(e,"s"),medium:re(e,"n")},t.push(s)})),p.results&&p.results.length>0&&p.results.forEach((function(e){var t=ae(e);i.push(t)})),c.photos&&c.photos.length>0&&(n=c.photos),d={flickr:t,unsplash:i,pexels:n,pexies:[]},e.commit("updateSearchResults",d),e.commit("hideLoader"),[3,4];case 3:return h.sent(),e.commit("hideLoader"),a.toast.open({message:"Can't reach api.",type:"is-danger"}),[3,4];case 4:return[2]}}))}))}}});o["a"].use(q["a"]);var ne=[{path:"/",name:"Home",component:Q},{path:"/Curated",name:"Curated",component:function(){return s.e("favourites").then(s.bind(null,"65cd"))}},{path:"/Favourites",name:"Favourites",component:function(){return s.e("favourites").then(s.bind(null,"0e0d"))}},{path:"/Search",name:"Search",component:function(){return s.e("search").then(s.bind(null,"2d3b"))}},{path:"/Profile",name:"Profile",meta:{requiresAuth:!0},component:function(){return s.e("profile").then(s.bind(null,"c66d"))}},{path:"/Profile/:username",name:"ProfileID",component:function(){return s.e("profileID").then(s.bind(null,"8946"))}}],le=new q["a"]({mode:"history",base:"/",routes:ne});le.beforeEach((function(e,t,s){e.matched.some((function(e){return e.meta.requiresAuth}))?ie.getters.getAuth?s():s("/"):s()}));var ue=le,ce=s("289d");s("c350");o["a"].use(ce["a"]),o["a"].config.productionTip=!1,new o["a"]({router:ue,store:ie,render:function(e){return e(B)}}).$mount("#app")},ec72:function(e,t,s){}});
//# sourceMappingURL=app.9b9fc23e.js.map